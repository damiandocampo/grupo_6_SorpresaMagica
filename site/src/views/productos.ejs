<!DOCTYPE html>
<html lang="es">

<%- include('./partials/head', {title: 'Productos' }) %>

<body>
    
    <%- include('./partials/header') %> 

    <%- include('./partials/nav') %> 

    <main class="listado-productos">
        
        <div class="filtros-orden">

            <div class="filtros-container">

                <label class="filtrar" for="filtros-hidden"> Filtrar <i class="fas fa-filter"></i> </label>
                <input type="checkbox" name="filtros" id="filtros-hidden" class="filtros-hidden">

                <div class="filtros">

                    <h2>Filtrar <i class="fas fa-filter"></i></h2>
                    
                    <div class="categorias">
                        <input type="checkbox" name="" id="f-categorias"><label for="f-categorias" class="titulo">Categor√≠as</label>
                        <ul>
                            <% categories.forEach(category => { %> 
                                <li><input type="checkbox" name="cb-<%= category.name %> " id="<%= category.name %> "><label for="<%= category.name %> "><%= category.name %> </label></li>
                            <% }) %> 
                        </ul>
                    </div>

                    <div class="marcas">
                        <input type="checkbox" name="" id="f-marcas"><label for="f-marcas" class="titulo">Marcas</label>
                        <ul>
                            <% brands.forEach(brand => { %> 
                                <li><input type="checkbox" name="cb-<%= brand.name %> " id="<%= brand.name %> "><label for="<%= brand.name %> "><%= brand.name %> </label></li>
                            <% }) %> 
                        </ul>
                    </div>

                    <div class="descuentos">
                        <input type="checkbox" name="" id="f-descuentos"><label for="f-descuentos" class="titulo">Descuentos</label>
                        <ul>
                            <li><input type="checkbox" name="cb-10" id="10"><label for="10">10%</label></li>
                            <li><input type="checkbox" name="cb-15" id="15"><label for="15">15%</label></li>
                            <li><input type="checkbox" name="cb-20" id="20"><label for="20">20%</label></li>
                            <li><input type="checkbox" name="cb-50" id="50"><label for="50">50%</label></li>
                        </ul>
                    </div>
                    
                </div>

            </div>
            
            <div class="orden-container">

                <input type="checkbox" name="orden" id="orden-hidden" class="orden-hidden">
                <label class="ordenar" for="orden-hidden"> Ordenar por: 
                <form action="" method="get">
                    <select name="orden" id="">
                        <option value="a-z" selected>A-Z</option>
                        <option value="z-a">Z-A</option>
                        <option value="menor-precio">$</option>
                        <option value="mayor-precio">$$$</option>
                    </select>
                </form>
                </label>

            </div> 

        </div>
        
        
        <div class="productos">

            <% products.forEach(product=> { %>
                <article>
                    <a href="/productos/detalle/<%= product.id %>#slide1">
                        <img src="/images/productos/<%= product.image %>" alt="<%= product.title %>">
                    </a>
                    <div class="descripcion">
                        <a href="/productos/detalle/<%= product.id %>">
                            <h5>
                                <%= product.brand.name %>
                            </h5>
                        </a>
                        <h3>
                            <a href="/productos/<%= product.id %>">
                                <%= product.title %>
                            </a>
                        </h3>
                        <% if (product.descuento > 0) { %> 
                            <div class="precio">
                                <small>
                                    $<%= product.price %> 
                                </small>
                                <h2>
                                    $<%= finalPrice(product.price, product.descuento) %>
                                </h2>
                                <h3>
                                    <%= product.descuento %>% 
                                </h3>
                            </div>
                        <% } else { %>
                                <h2>
                                    $<%= product.price %>
                                </h2>
                        <% } %>
                        <div class="cantidad">
                            <button>-</button>
                            <p>1</p>
                            <button>+</button>
                        </div>
                        <div class="comprar">
                            <button type="submit">Agregar al carrito</button>
                        </div>
                    </div>
                </article>
            <% }) %>

        </div>


    </main>

    <%- include('./partials/footer') %> 

</body>
</html>